---
layout: post
title: "蒙特卡洛人生算法"
author: "房燕良"
categories: 3dengine
tags: [raytracing]
image:
  path: rendergraph
  feature: falcor_cover.png
  credit: ""
  creditlink: ""
brief: "从蒙特卡洛路径追踪得到的人生感悟"
---

活了三十多年，我才发现，人生是TM随机的！

我曾经志得意满，觉得手拿把攥的事情，也一败涂地。更有甚者，游戏行业颇有一些满有才学的朋友，打拼十来年，却少有建树！也许他们有他们自己的问题，但谁身上没几个问题呢？游戏行业就是成功概率很低的一个行业！如果是做大型项目，周期2到3年的那种，10年最多也就试5次啊。游戏行业平均的成功概率也就10%，所以这样算下来，成功的期望值只有“0.5”啊，就是不足1次啊，这不是很科学的嘛？！

最近几年，颇为感慨的就是：世事无常！世界太复杂、变化太快、变量太多。我开始警惕任何我觉得“确定”的事情，因为那往往意味着我又在“想当然”了，又在“自以为是”了！我对这个事情的认知还太肤浅，以至于完全不知道它的“不确定性”会从什么地方冒出来。经济学老师也说：世界充满了不确定性，乃至于“确定性”本身就是一种价值。

认识到这一点之后，我获得的最大的好处就是：我可以坦然接受曾经的失败了，也不必为将来的失败而恐惧或焦虑了！因为这些，都TM是有概率的！

对失败如此洒脱的话，硬币的另外一面是：如果成功总是没有把握的，那么努力还有什么用呢？无论你怎么努力，没有一件事是你有十足把握做成的！其实不然，我认为以下是几个指定努力的方向：
1. 提高自己的概率优势
1. 降低自己的试错成本
1. 在成功概率高的地方多尝试
1. 大机会出现的时候，敢于下大注

## 蒙特卡洛方法科普

上面这些其实是这些年很多零零散散的感悟，只是最近在实践“蒙特卡洛路径追踪”的时候，把这些都激发出来了，把它们都串在了一起。所以，我想先花一点篇幅做对这个东西做一个不严谨的科普。

## 概率优势

如果你打过官司，你就知道，在这种激烈的斗争中，任何一方都不是有100%胜算的，就算你觉得自己在合理合法、证据充分，都不行！其实，其他低烈度的竞争，也是这样！只不过程度不同而已。

所有的努力，虽然不能让你获得完全的胜算，但是能让你的胜算比对手大！高手过招，拼的不是绝对数值，而是看谁的武功和智慧更高一点。

## 试错成本与大数定律

简单说就是：概率优势只有在试验了很多次的时候才能体现出来！所以试一次的成本就变得格外重要。

因为这几年在蚂蚁主要是做所谓的“中台”系统，所以对阿里的“大中台小前台”战略也略有自己的理解！所谓“中台”其实它并不是一个“东西”，它不能单独讲的，必须要完整的说：“大中台小前台”！简单说就是，“大中台”的目的是要支持“小前台”。因为互联网产品也是一个成功概率不高的领域，大中台就是要让产品的试错成本变低，甚至在产品失败的情况下，还能有积累！这是一种企业战略。

试错对于个人来说同样重要！对于个人的试错成本，要从心理、经济、时间等多个方面来控制。这几个方面，我想都是不言自明的。

## 人生的重要性采样

通过下面这个图对比一下，就能看出重要性采样到底有多重要！左图就是纯随机采样的结果，右图。。。。。

- TODO: 配图

有人说：选对跑到比努力更重要。也就是说，你要在成功概率高的地方，多试几次。在成功概率极低的情况下，拼命试，往往收效甚微。经济学老师说：确定性更高的成果，值得你更努力。也是这个道理。

在蒙特卡洛光线追踪中，常用的重要性采样方法是：inverse CDF，以及 rejection sampling。前者不适用于人生这个命题，因为咱们完全不知道 PDF，所以只剩下一招了“学会拒绝”！

曹操曾经点评袁绍：见小利而忘命，做大事而惜身。其实这不袁绍的毛病啊，这就是我们这样的普通人常见的问题啊！不被小利所诱惑，不为情面所碍，在关键选择上，做好理性分析。在人生的低谷，耐得住寂寞，像一个冷静的猎人一样，静静的匍匐在地！一只兔子，并不值得追逐，只有真正的猎物出现的时候，再出手！

## 成功来自少数大机会

人生是长跑，机会很多的！完全不必为错过了一个好机会而惋惜！因为，没有人能抓住所有机会！去追悔错过了多少好机会，没有任何用处，重要的是去抓住将来的机会！为抓住下一个机会做充足准备！

更重要的是勇气！当大机会出现的时候，你敢不敢下大注？！甚至 All in！如果机会抓了很多，但每次都是小打小闹，虽然赢，但总是浅尝即止，有什么意思？！

勇气不等于胆子大，不能蛮干！勇气来自底气！底气哪里来？我想前面几节就是底气的来源：你在这件事上是否有概率优势？你的试错成本是否可以接受？你是在盲目的瞎试，还是在进行重要性采样？

## 结束语

说了这么多，难道人生是“连续型随机变量”吗？亦或是没有任何规律的“离散型随机变量”？！I don't know!


## 附录：使用蒙特卡洛方法计算的实验小程序